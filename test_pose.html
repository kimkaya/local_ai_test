<!DOCTYPE html>
<html>
<head>
    <title>포즈 감지 테스트</title>
</head>
<body>
    <h1>포즈 감지 API 테스트</h1>

    <button onclick="testDetectPose()">포즈 감지 테스트</button>
    <button onclick="testSimpleImage()">단순 이미지 생성 테스트</button>

    <div id="result" style="margin-top: 20px; white-space: pre-wrap; font-family: monospace;"></div>

    <script>
        // 테스트용 작은 이미지 (1x1 픽셀)
        const testImage = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAABAAEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlbaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9/KKKKAP/2Q==';

        async function testDetectPose() {
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = '테스트 중...';

            const formData = new FormData();
            formData.append('action', 'detect_pose');
            formData.append('image', testImage);

            try {
                const response = await fetch('/ai_test_sec/api/ai_service.php', {
                    method: 'POST',
                    body: formData
                });

                const text = await response.text();
                resultDiv.textContent = `응답 길이: ${text.length}\n\n응답 내용:\n${text}`;
            } catch (error) {
                resultDiv.textContent = `오류: ${error.message}`;
            }
        }

        async function testSimpleImage() {
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = '테스트 중...';

            const formData = new FormData();
            formData.append('action', 'generate_image');
            formData.append('prompt', 'test');
            formData.append('mode', 'simple');

            try {
                const response = await fetch('/ai_test_sec/api/ai_service.php', {
                    method: 'POST',
                    body: formData
                });

                const text = await response.text();
                resultDiv.textContent = `응답 길이: ${text.length}\n\n응답 내용:\n${text}`;
            } catch (error) {
                resultDiv.textContent = `오류: ${error.message}`;
            }
        }
    </script>
</body>
</html>
